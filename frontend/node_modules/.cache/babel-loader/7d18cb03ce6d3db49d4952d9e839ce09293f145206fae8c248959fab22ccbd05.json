{"ast":null,"code":"// src/pages/Account.js\nimport React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Account=()=>{const[userInfo,setUserInfo]=useState({name:'',email:'',phone:'',subscription:false});const[orderHistory,setOrderHistory]=useState([]);// Fetch user information and order history when the component mounts\nuseEffect(()=>{// Mock API call to fetch user information\naxios.get('/api/user').then(response=>{setUserInfo(response.data.user);setOrderHistory(response.data.orders);}).catch(error=>console.error('Error fetching user data:',error));},[]);const handleInputChange=e=>{const{name,value}=e.target;setUserInfo(prevState=>({...prevState,[name]:value}));};const handleSubscriptionChange=()=>{setUserInfo(prevState=>({...prevState,subscription:!prevState.subscription}));};const handleUpdateProfile=e=>{e.preventDefault();// Mock API call to update user information\naxios.post('/api/user/update',userInfo).then(response=>{alert('Profile updated successfully!');}).catch(error=>console.error('Error updating profile:',error));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"User Account\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleUpdateProfile,children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Name:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:userInfo.name,onChange:handleInputChange})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Email:\",/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:userInfo.email,onChange:handleInputChange,disabled:true// Typically, email would not be changed\n})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Phone:\",/*#__PURE__*/_jsx(\"input\",{type:\"tel\",name:\"phone\",value:userInfo.phone,onChange:handleInputChange})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Subscribe to Promotions:\",/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:userInfo.subscription,onChange:handleSubscriptionChange})]})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Update Profile\"})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Order History\"}),/*#__PURE__*/_jsx(\"ul\",{children:orderHistory.map(order=>/*#__PURE__*/_jsxs(\"li\",{children:[order.movieTitle,\" - \",order.showtime,\" - \",order.ticketCount,\" tickets\"]},order.id))})]});};export default Account;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","Account","userInfo","setUserInfo","name","email","phone","subscription","orderHistory","setOrderHistory","get","then","response","data","user","orders","catch","error","console","handleInputChange","e","value","target","prevState","handleSubscriptionChange","handleUpdateProfile","preventDefault","post","alert","children","onSubmit","type","onChange","disabled","checked","map","order","movieTitle","showtime","ticketCount","id"],"sources":["C:/Users/skpat/cinema-e-booking/frontend/src/pages/Account.js"],"sourcesContent":["// src/pages/Account.js\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst Account = () => {\r\n  const [userInfo, setUserInfo] = useState({\r\n    name: '',\r\n    email: '',\r\n    phone: '',\r\n    subscription: false,\r\n  });\r\n  const [orderHistory, setOrderHistory] = useState([]);\r\n\r\n  // Fetch user information and order history when the component mounts\r\n  useEffect(() => {\r\n    // Mock API call to fetch user information\r\n    axios.get('/api/user')\r\n      .then(response => {\r\n        setUserInfo(response.data.user);\r\n        setOrderHistory(response.data.orders);\r\n      })\r\n      .catch(error => console.error('Error fetching user data:', error));\r\n  }, []);\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setUserInfo(prevState => ({\r\n      ...prevState,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const handleSubscriptionChange = () => {\r\n    setUserInfo(prevState => ({\r\n      ...prevState,\r\n      subscription: !prevState.subscription,\r\n    }));\r\n  };\r\n\r\n  const handleUpdateProfile = (e) => {\r\n    e.preventDefault();\r\n    // Mock API call to update user information\r\n    axios.post('/api/user/update', userInfo)\r\n      .then(response => {\r\n        alert('Profile updated successfully!');\r\n      })\r\n      .catch(error => console.error('Error updating profile:', error));\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>User Account</h1>\r\n      <form onSubmit={handleUpdateProfile}>\r\n        <div>\r\n          <label>\r\n            Name:\r\n            <input\r\n              type=\"text\"\r\n              name=\"name\"\r\n              value={userInfo.name}\r\n              onChange={handleInputChange}\r\n            />\r\n          </label>\r\n        </div>\r\n        <div>\r\n          <label>\r\n            Email:\r\n            <input\r\n              type=\"email\"\r\n              name=\"email\"\r\n              value={userInfo.email}\r\n              onChange={handleInputChange}\r\n              disabled // Typically, email would not be changed\r\n            />\r\n          </label>\r\n        </div>\r\n        <div>\r\n          <label>\r\n            Phone:\r\n            <input\r\n              type=\"tel\"\r\n              name=\"phone\"\r\n              value={userInfo.phone}\r\n              onChange={handleInputChange}\r\n            />\r\n          </label>\r\n        </div>\r\n        <div>\r\n          <label>\r\n            Subscribe to Promotions:\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={userInfo.subscription}\r\n              onChange={handleSubscriptionChange}\r\n            />\r\n          </label>\r\n        </div>\r\n        <button type=\"submit\">Update Profile</button>\r\n      </form>\r\n\r\n      <h2>Order History</h2>\r\n      <ul>\r\n        {orderHistory.map(order => (\r\n          <li key={order.id}>\r\n            {order.movieTitle} - {order.showtime} - {order.ticketCount} tickets\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Account;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}